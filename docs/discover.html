<!DOCTYPE html>
<html>
  <head>
    <title>Redirect</title>
    <meta charset='UTF-8'>
    <script src="js/discover.js"   type="text/javascript"></script>
    <style> 
    html {
      font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      /*font-size: 12pt;*/
      -webkit-font-smoothing: antialiased;
      color: #1a1a1a;
      background:#fff
    }   
    .page {
        max-width: 1024px;
        margin: 0 auto;
        padding-left: 5px;
        padding-right:5px;
        margin-bottom: 30px;
    }
    @media (min-width: 768px) {
        .page {
            padding-left: 20px;
            padding-right:20px
        }
    }
    @media (min-width: 1024px) {
        .page {
            padding-left: 40px;
            padding-right:40px
        }
    }
    input {
      background-color: inherit;
      border: 1px solid #9a9a9a;
      font-family: inherit;
      -webkit-transition: all .25s ease;
      -o-transition: all .25s ease;
      transition: all .25s ease;
      font-size: 1.0rem;
    }
    input:focus, input:hover {
        border-color: #1a1a1a;
        outline:0
    }
    button {
      display:block;
      padding: 15px;
      color: #fff;
      font-size: 1.14em;
      font-weight: bold;
      text-decoration: none;
      text-align: center;
      line-height: .4em;
      border: none;
    }
    button:hover {
      background-color: #ff6e59;
  	  outline-color: transparent; 
    }
    input[pattern]:invalid{
      color:red;
    }
    a {
      color: #ff6e59;
      border-bottom: 1px solid hsla(0, 0%, 100%, 0);
      padding-bottom: .05em;
      -webkit-transition: border .25s ease;
      -o-transition: border .25s ease;
      transition:border .25s ease;
      text-decoration:none
    }
    a:focus, a:hover {
        border-bottom-color:currentColor
    }

    </style>
  </head>
  <body>
    <div class="page">
      <h1>u-blox HPG Solution - Device Discovery</h1>
      <div class="section">
        <p>This page will scan your local network for IPs assigned to <b>u-blox HPG solution</b> boards.</p>
        
        <ul>
          <li><b>Local Network:</b>
            <input id="local" type="text" value="192.168.0.2-254" pattern="\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}(-\d{1,3})?"
                   placeholder="192.168.0.from[-to]" oninput="if (typeof this.reportValidity === 'function') {this.reportValidity();}" ></input>
            <br>Consider to change local IP range to match your network infrastructure. <span id="myip"></span>
          </li>
          <li><b>iOS Personal Hotspot:</b> 172.20.10.0-15</li>
          <li><b>Android Tethering:</b> 192.168.42.2-254 </li>
        </ul>
        <p>Some networks do not allow communication between connected clients. If your device in undiscoverable please contact your network administrator for getting your local network IP range. </p>
        
        <p>In case this page is unable help you discover your device, Connect the USB port of the u-blox HPG Solution to a computer.
        You can observe the assigned IP with a serial terminal application on the console output of the NINA-W1 (serial port: CP210x USB to UART Bridge, baud rate: 115'200). </p>
        <button onclick="testNet()">Start network scan</button>
        <p hidden id="hint">List of <b>u-blox HPG solution</b> in your local network:</p>
        <ul id='list'></ul>
      </div>
    </div>
  </body>
</html>
