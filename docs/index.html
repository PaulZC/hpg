<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="profile" href="http://www.w3.org/1999/xhtml/vocab" />
    <meta name="MobileOptimized" content="width" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>mazg.ch - HPG Solution Monitor</title>
    <link rel="icon" href="img/favicon.svg">
    <!-- External libraries -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.29.0/dist/feather.min.js"     type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"             type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/ace-builds@1.4.12/src-min-noconflict/ace.js"   type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/openlayers@4.6.5/dist/ol.js"                  type="text/javascript"></script>
    <link  href="https://cdn.jsdelivr.net/npm/openlayers@4.6.5/dist/ol.css"                 type="text/css" rel="stylesheet"/>
    <link  href="https://cdn.jsdelivr.net/npm/flag-icon-css@4.1.7/css/flag-icons.min.css"   type="text/css" rel="stylesheet"/>
    <!-- This page specific -->
<!--<script src="https://cdn.jsdelivr.net/gh/mazgch/hpg/js/console.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/gh/mazgch/hpg/js/u-start.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/gh/mazgch/hpg/js/device.min.js"  type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/gh/mazgch/hpg/js/engine.min.js"  type="text/javascript"></script>
    <link  href="https://cdn.jsdelivr.net/gh/mazgch/hpg/css/u-start.css"   type="text/css" rel="stylesheet" media="all" />-->
    <script src="js/console.js"   type="text/javascript"></script>
    <script src="js/u-start.js"   type="text/javascript"></script>
    <script src="js/device.js"    type="text/javascript"></script>
    <script src="js/engine.js"    type="text/javascript"></script>
    <link  href="css/u-start.css" type="text/css" rel="stylesheet" media="all" />
  </head>
  <body>
    <div id="crash-message"></div>
    <div class="page">
      <div style="padding-top:1em;" class="section">
        <img src="img/favicon.svg" alt="mazg.ch" title="mazg.ch logo" style="vertical-align:middle; display:inline; height:3em">
        <h1 style="vertical-align:middle; display:inline">mazg.ch - HPG Center</h1>
        <div class="overlay_ctrl" style="top:0.5em;right:0.5em;">
          <div onclick="window.open('https://twitter.com/mazgch/','_blank').focus();"                  title="Twitter @mazgch"><i class="overlay_button" data-feather="twitter"></i></div>
          <div onclick="window.open('https://www.linkedin.com/in/michael-ammann/','_blank').focus();"  title="LinkedIn"><i class="overlay_button" data-feather="linkedin"></i></div>
          <div onclick="window.open('https://github.com/mazgch/','_blank').focus();"                   title="Github"><i class="overlay_button" data-feather="github"></i></div>
        </div>
      </div>
      <div id="tile_device">
        <h2>Device</h2>
        <p>This section provides useful information about the device and its software. If you seek advice, contact our support community in the <a href="https://portal.u-blox.com">u-blox portal</a>. It will be beneficial for the experts, if you share version information found in this section along with a detailed description of your question.</p>
        <div hidden id="discover" class="modal">
          <div class="page">
            <div class="modal-content">
              <div id="modal-close" class="overlay_ctrl" style="top:0.5em;right:0.5em;">
                <i class="overlay_button" data-feather="x"></i>
              </div>
              <h2>Discover Devices</h2>
              <p>Scan your local network for HPG solution devices and their assigned IP address. 
                Local networks may have IP addresses in these ranges: 10.0.0.0 - 10.255.255.255, 172.16.0.0 - 172.31.255.255 or 192.168.0.0 - 192.168.255.255.</p>
              <ul>
                <li><b>iOS Personal Hotspot:</b> 172.20.10.0 - 15</li>
                <li><b>Android Tethering:</b> 192.168.42.2 - 254</li>
                <li><b>Local Network:</b> 
                  <input id="scan-range" type="text" value="192.168.0.2 - 254" pattern="\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\s*(-\s*\d{1,3})?"
                        placeholder="192.168.0.from[-to]" oninput="if (typeof this.reportValidity === 'function') {this.reportValidity();}" ></input>
                </li>
              </ul>
              <p style="text-align: center;"><button id="scan-devices" >Start discovery scan</button></p>
              <p><table class="table"><tr hidden id='scan-results'><th>Device</th><th>IP</th><th>&nbsp;</th><th>&nbsp;</th></tr></table></p>
              <p>If your device in undiscoverable, contact your network administrator or connect the USB port of the to device to a computer.
              You can observe the assigned IP using a serial terminal application on the console output of the device (serial port: CP210x USB to UART Bridge, baud rate: 115'200). </p>
            </div>
          </div>
        </div>
        <div class="section">
          <table class="table">
            <tr>
              <th style="width:30%;">Parameter</th>
              <th style="width:70%;">Value</th>
            </tr>
            <tr hidden><td>Device Name</td>          <td class="dbvalue" id="dev_name"></td></tr>
            <tr>       <td>Device Status</td>        <td class="dbvalue" id="dev_status"></td></tr>
            <tr>       <td>Device IP</td>            <td class="dbvalue" id="dev_ip"></td></tr>
            <tr>       <td>Device Socket</td>        <td class="dbvalue" id="dev_socket"></td></tr>
            <tr hidden><td>Technology</td>           <td class="dbvalue" id="dev_tech"></td></tr>
            <tr hidden><td>Product / Series</td>     <td class="dbvalue" id="dev_prod"></td></tr>
            <tr hidden><td>Image</td>                <td class="dbvalue" id="dev_img"></td></tr>
            <tr hidden><td>Description</td>          <td class="dbvalue" id="dev_descr"></td></tr>
            <tr hidden><td>Module</td>               <td class="dbvalue" id="dev_mod"></td></tr>
            <tr hidden><td>Type Number</td>          <td class="dbvalue" id="dev_typenum"></td></tr>
            <tr hidden><td>Hardware Version</td>     <td class="dbvalue" id="dev_hw"></td></tr>
            <tr hidden><td>Rom Version</td>          <td class="dbvalue" id="dev_rom"></td></tr>
            <tr hidden><td>Flash Version</td>        <td class="dbvalue" id="dev_flash"></td></tr>
            <tr hidden><td>Software Extension</td>   <td class="dbvalue" id="dev_ext"></td></tr>
            <tr hidden><td>Protocol Version</td>     <td class="dbvalue" id="dev_prot"></td></tr>
            <tr hidden><td>IMEI Number</td>          <td class="dbvalue" id="dev_imei"></td></tr>
            <tr hidden><td>ICCID Number</td>         <td class="dbvalue" id="dev_iccid"></td></tr>
            <tr hidden><td>IMSI Number</td>          <td class="dbvalue" id="dev_imsi"></td></tr>
            <tr hidden><td>RSSI</td>                 <td class="dbvalue" id="dev_rssi"></td></tr>
            <tr hidden><td>BER</td>                  <td class="dbvalue" id="dev_ber"></td></tr>
            <tr hidden><td>Available Networks</td>   <td class="dbvalue" id="dev_net"></td></tr>
            <tr hidden><td>BT/BLE MAC Address</td>   <td class="dbvalue" id="dev_mac_bt"></td></tr>
            <tr hidden><td>WIFI STA MAC Address</td> <td class="dbvalue" id="dev_mac_sta"></td></tr>
            <tr hidden><td>WIFI AP MAC Address</td>  <td class="dbvalue" id="dev_mac_ap"></td></tr>
            <tr hidden><td>Ethernet MAC Address</td> <td class="dbvalue" id="dev_mac_eth"></td></tr>
          </table>
          <div class="overlay_ctrl" style="top:0.5em;right:0.5em;">
            <div onclick="Device.action('discover');"  title="Discover devices in your local network"><i class="overlay_button" data-feather="search"></i></div>
            <div onclick="Device.action('settings');"  title="Device Configuration Portal"><i class="overlay_button" data-feather="settings"></i></div>
            <div onclick="Device.action('identify');"  title="Identify device and get version information"><i class="overlay_button" data-feather="info"></i></div>
          </div>
        </div>
      </div>

      <div hidden id="tile_parameter">
        <h2>Interface</h2>
        <p>In this section you to explore parameters of the device interface. Click on a row to reveal its statistics or a graph of an item.</p>
        <div class="section">
          <table class="table">
            <tr id="dbInt">
              <th style="width:30%;">Parameter</th>
              <th style="width:15%;" class="right">Value</th>
              <th style="width:15%;">Unit</th>
              <th style="width:20%;">Comment</th>
              <th style="width:20%;">&nbsp;</th>
            </tr>
          </table>
          <div class="overlay_ctrl" style="top:0.5em;right:0.5em;">
            <div title="Communication activity"><i class="overlay_button" id="status_led" data-feather="circle"></i></div>
          </div>
        </div>
      </div>

      <div hidden id="tile_message">
        <h2>Messages &amp; Protocols</h2>
        <p>This application communicates with the device using messages. You can explore the individual messages and protocols that are received from or sent to the device. Click on a message to reveal the details or binary data. The filter box allows you to quickly search the most recent messages. To send a message to a device, simply start typing the message and press enter. You can also export the data as files that can be easily shared with experts in the <a href="https://portal.u-blox.com">u-blox portal</a> or for further analysis with our offline <a href="https://www.u-blox.com/en/evk-search?product_class=Evaluation%2520software">support tools</a>.</p>
        <div class="section textfield">
          <label for="console_filter">Filter messages<span class="form-required" 
      title="Examples:
AT   to filter only AT messages
/UBX|NMEA/   to filter for any NMEA or UBX messages.
/^(?!.*(RTCM|UNKNOWN))/   messages containing not RTCM and UNKNOWN">*</span> using <a target="_blank" href="https://developer.mozilla.org/docs/Web/JavaScript/Guide/Regular_Expressions">regular expressions</a></label>
          <input id="console_filter" type="text" size="512" maxlength="512" class="preformated" />
        </div>
        <div class="section">
          <div class="framed console" id="console_data" style="height:400px"></div>
          <div class="overlay_ctrl" style="top:0.5em;right:1.2em;" >
            <div id="console_logfile" title="Export as Unicode text file"><i class="overlay_button" data-feather="file-text"></i></div>
            <div id="console_ubxfile" title="Export as UBX binary file (u-center compatible)"><i class="overlay_button" data-feather="file"></i></div>
            <div id="console_clear" title="Clear the console"><i class="overlay_button" data-feather="trash"></i></div>
            <div id="console_down" hidden title="Scroll to latest message"><i class="overlay_button" data-feather="chevrons-down"></i></div>
          </div>
        </div>
        <div class="autocomplete section textfield">
          <label for="console_send">Send TEXT, AT, NMEA or UBX messages<span class="form-required" 
title="Create a TEXT or AT message by simply writing the text. 
The carriage return will be appended automatically.

Create a NMEA message by starting with a $ followed by the text.
The checksum, carriage return and line feed sequence can be omitted 
and will be appended automatically.  

Create a UBX message by UBX-CLS-ID followed by the payload in one of 
these formats:
&quot;text&quot;   a quoted string 
[ byte, ... ]   an array of bytes use values 0-255, hex allowed 0x 
{ key:number, key:&quot;text&quot;... }   a key/value specification
The UBX header and checksum are automatically calculated and added 
to the payload.

Pressing enter in this field will send any message.">*</span></label>
          <input id="console_send" type="text" size="512" maxlength="512" class="preformated" 
                autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
        </div>
      </div>

      <div hidden id="tile_automate">
        <h2>JavaScript Automation</h2>
        <p>You can run useful automation tasks and examples in this section.</p>
        <div class="section">
          <label for="console_template">Template</label>
          <select id="console_template" class="form-item"></select>
        </div>
        <div class="section">
          <div class="form-item editor" id="console_editor" style="height:500px;"></div>
          <div class="overlay_ctrl" style="left:0.5em;bottom:0.5em;">
            <div id="console_execute" title="Execute"><i class="overlay_button" data-feather="play-circle"></i></div>
            <div hidden id="console_abort" title="Abort execution"><i class="overlay_button" data-feather="stop-circle"></i></div>
          </div>
        </div>
      </div>

      <div hidden id="tile_position">
        <h2>Position Information</h2>
        <p>This section shows you the different parameters that are relevant to a positioning function. Click on a row in the table to reveal its statistics or a graph of an item.</p>
        <div hidden class="section framed" id="map" style="height:400px"></div>
        <div class="section"">
          <table class="table">
            <tr id="db">
              <th style="width:30%;">Parameter</th>
              <th style="width:15%;" class="right">Value</th>
              <th style="width:15%;">Unit</th>
              <th style="width:20%; ">Comment</th>
              <th style="width:20%;">&nbsp;</th>
            </tr>
          </table>
          <div class="overlay_ctrl" style="top:0.5em;right:0.5em;">    
            <div id="db_save" title="Export values as csv/Excel file"><i class="overlay_button" data-feather="file-plus"></i></div>
            <div id="db_kml" title="Export values as kml/Google Earth file"><i class="overlay_button" data-feather="map"></i></div>
            <div id="db_clear" title="Clear values"><i class="overlay_button" data-feather="trash"></i></div>
          </div>
        </div>
      </div>

      <div hidden id="tile_satellite">
        <h2>Satellite Information</h2>
        <p>Many positioning devices such as GPS/GNSS receivers use satellites to determine location of the antenna of the device. In this section you can explore the status of the different signals received and perform a restart of the positioning function. In case your device does not receive any signals make sure you have the antenna connected and placed outdoors in a location with good visibility to the sky.</p>
        <div class="section framed"">
          <canvas id="svs2" style="height:250px;"></canvas>
        </div>
        <div class="section framed"">
          <canvas id="svs" style="height:400px;padding-left:7px;"></canvas>
          <div class="overlay_ctrl" style="top:0.5em;left:0.5em;">
            <div onclick="Device.action('hotstart');"  title="Hot start" ><i class="overlay_button" style="fill:#a02846;" data-feather="thermometer"></i></div>
            <div onclick="Device.action('warmstart');" title="Warm start"><i class="overlay_button" style="fill:#ffbe28;" data-feather="thermometer"></i></div>
            <div onclick="Device.action('coldstart');" title="Cold start"><i class="overlay_button" style="fill:#4664b4;" data-feather="thermometer"></i></div>
          </div>
        </div>
        <div class="section">
          <table class="table">
            <tr>
              <th>System</th>
              <th class="center">Satellite</th>
              <th class="center">Used</th>
              <th class="center">Signal</th>
              <th class="right">Elev</th>
              <th class="right">Azim</th>
            </tr>
            <tbody id='sv_list'></tbody>
          </table>
        </div>
      </div>
    </div>
  </body>
</html>
